# 墙体编辑器使用说明

## 功能介绍

这是一个可视化的墙体编辑工具，可以帮助你快速为游戏地图添加墙体配置。

## 使用方法

### 1. 启动编辑器
- 在浏览器中打开 `http://localhost:8001/wall-editor.html`
- 编辑器会自动加载所有地图图片

### 2. 选择地图
- 在右侧控制面板中选择要编辑的地图
- 支持的地图：客厅、卧室、厨房、洗手间、阳台

### 3. 添加墙体
- 在地图上用鼠标左键点击要设置为墙体的位置
- 红色圆点表示已选择的墙体位置
- 再次点击相同位置可以移除墙体

### 4. 辅助功能
- **显示/隐藏网格**：帮助精确定位坐标
- **清除所有墙体**：一键清除当前地图的所有墙体选择
- **坐标列表**：显示已选择的所有墙体坐标

### 5. 生成代码
- 点击"生成墙体代码"按钮
- 系统会自动生成两种格式的墙体配置代码：
  - 直接坐标格式：`"x,y": true`
  - 工具函数格式：`[utils.asGridCoord(x, y)]: true`

### 6. 复制代码
- 点击"复制代码"按钮将生成的代码复制到剪贴板
- 然后可以直接粘贴到 `MapConfigs.js` 文件中对应地图的 `walls` 配置中

## 代码使用示例

生成的代码可以直接用于 `MapConfigs.js` 文件：

```javascript
// 在 MapConfigs.js 中的地图配置
LivingRoom: {
  lowerSrc: "image in the game/map/livingroom.png",
  configObjects: {
    // ... 其他配置
  },
  walls: {
    // 粘贴生成的墙体代码到这里
    "5,10": true,
    "6,10": true,
    "7,10": true,
    // 或者使用工具函数格式
    [utils.asGridCoord(5, 10)]: true,
    [utils.asGridCoord(6, 10)]: true,
    [utils.asGridCoord(7, 10)]: true,
  },
  cutsceneSpaces: {
    // ... 其他配置
  }
}
```

## 注意事项

1. **坐标系统**：编辑器使用16像素为一个网格单位，与游戏中的坐标系统一致
2. **地图切换**：切换地图时会自动清除当前选择的墙体
3. **实时预览**：红色圆点实时显示选择的墙体位置
4. **代码格式**：生成的代码可以直接复制粘贴使用，无需手动修改

## 快捷操作

- 鼠标左键：添加/移除墙体
- 网格显示：帮助精确定位
- 批量清除：快速重新开始
- 一键复制：提高工作效率

使用这个工具，你可以大大简化为地图添加墙体的工作流程！